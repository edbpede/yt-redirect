function B(){if(typeof window>"u")return"da";const e=localStorage.getItem("language");return e&&(e==="da"||e==="en")?e:"da"}function U(e){typeof window<"u"&&localStorage.setItem("language",e)}const S="modulepreload",_=function(e){return"/"+e},w={},E=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(m=>Promise.resolve(m).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),b=s?.nonce||s?.getAttribute("nonce");r=c(n.map(u=>{if(u=_(u),u in w)return;w[u]=!0;const m=u.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const l=document.createElement("link");if(l.rel=m?"stylesheet":S,m||(l.as="script"),l.crossOrigin="",l.href=u,b&&l.setAttribute("nonce",b),document.head.appendChild(l),m)return new Promise((C,P)=>{l.addEventListener("load",C),l.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${u}`)))})}))}function d(c){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=c,window.dispatchEvent(s),!s.defaultPrevented)throw c}return r.then(c=>{for(const s of c||[])s.status==="rejected"&&d(s.reason);return t().catch(d)})},g=new Map;async function k(e){if(g.has(e))return g.get(e);let t;return e==="da"?t=(await E(()=>import("./da.ClvXmfZO.js"),[])).default:t=(await E(()=>import("./en.HN6uX6H0.js"),[])).default,g.set(e,t),t}function M(e,t){const n=t.split(".");let o=e;for(const r of n)if(o&&typeof o=="object"&&r in o)o=o[r];else return t;return typeof o=="string"?o:t}function i(e,t){const n=g.get(e);return n?M(n,t):(console.warn(`Translations for "${e}" not loaded yet. Call loadTranslations() first.`),t)}function O(e){try{const t=new URL(e),n=t.hostname.toLowerCase();if(n==="youtu.be"||n==="www.youtu.be")return t.pathname.slice(1).split("/")[0].split("?")[0]||null;if(n==="youtube.com"||n==="www.youtube.com"||n==="m.youtube.com"||n==="music.youtube.com"){const o=t.searchParams.get("v");if(o)return o;const r=t.pathname.match(/^\/embed\/([^/?]+)/);if(r)return r[1];const d=t.pathname.match(/^\/v\/([^/?]+)/);if(d)return d[1];const c=t.pathname.match(/^\/shorts\/([^/?]+)/);if(c)return c[1];const s=t.pathname.match(/^\/live\/([^/?]+)/);if(s)return s[1]}return null}catch{return null}}function R(e){if(!e||typeof e!="string")return!1;try{const n=new URL(e).hostname.toLowerCase();return["youtube.com","www.youtube.com","m.youtube.com","music.youtube.com","youtu.be","www.youtu.be"].includes(n)}catch{return!1}}function j(e){if(!e||typeof e!="string"||e.trim()==="")return{success:!1,error:"emptyInput"};const t=e.trim();if(!R(t))return{success:!1,error:"invalidUrl"};try{const n=new URL(t),o=O(t);if(!o)return{success:!1,error:"invalidUrl"};const r=new URL("https://yout-ube.com/watch");return r.searchParams.set("v",o),["t","list","index","start"].forEach(c=>{const s=n.searchParams.get(c);s&&r.searchParams.set(c,s)}),{success:!0,convertedUrl:r.toString()}}catch{return{success:!1,error:"conversionFailed"}}}function $(e){const t=e.trim();return t.match(/^(www\.)?(youtube\.com|youtu\.be|m\.youtube\.com|music\.youtube\.com)/i)?`https://${t}`:t.match(/^https?:\/\//i)?t:`https://${t}`}let a=B();const D=document.getElementById("converter-form"),h=document.getElementById("youtube-url"),A=document.getElementById("submit-button"),y=document.getElementById("button-text"),I=document.getElementById("error-message"),V=document.getElementById("error-text"),T=document.getElementById("language-button"),p=document.getElementById("language-menu"),Y=document.getElementById("current-language"),q=document.querySelectorAll(".language-option");async function v(){await k(a),document.documentElement.lang=a,document.title=i(a,"app.title");const e=document.getElementById("app-title"),t=document.getElementById("app-description"),n=document.getElementById("input-label"),o=document.getElementById("info-text"),r=document.getElementById("footer-text");e&&(e.textContent=i(a,"app.title")),t&&(t.textContent=i(a,"app.description")),n&&(n.textContent=i(a,"form.inputPlaceholder")),h&&(h.placeholder=i(a,"form.inputPlaceholder")),y&&(y.textContent=i(a,"form.convertButton")),o&&(o.textContent=a==="da"?"Indsæt ethvert YouTube link format - vi håndterer konverteringen automatisk!":"Paste any YouTube link format - we'll handle the conversion automatically!"),r&&(r.textContent=i(a,"footer.madeWith")+" ❤️"),Y.textContent=a==="da"?"Dansk":"English"}function L(e){V.textContent=i(a,`errors.${e}`),I.classList.remove("hidden")}function x(){I.classList.add("hidden")}D.addEventListener("submit",e=>{e.preventDefault(),x();const t=h.value.trim();if(!t){L("emptyInput");return}const n=$(t),o=j(n);if(!o.success||!o.convertedUrl){L(o.error||"conversionFailed");return}A.disabled=!0,y.textContent=i(a,"form.converting"),setTimeout(()=>{window.location.href=o.convertedUrl},300)});h.addEventListener("input",()=>{x()});T.addEventListener("click",()=>{p.classList.toggle("hidden")});document.addEventListener("click",e=>{!T.contains(e.target)&&!p.contains(e.target)&&p.classList.add("hidden")});q.forEach(e=>{e.addEventListener("click",async()=>{const t=e.dataset.lang;t&&(t==="da"||t==="en")&&(a=t,U(t),await v(),p.classList.add("hidden"))})});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",v):v();
