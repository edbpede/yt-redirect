const w={title:"YouTube Link Konverter",description:"Konverter YouTube links til yout-ube.com"},I={inputPlaceholder:"Indsæt YouTube link her...",convertButton:"Konverter og Åbn",converting:"Konverterer..."},L={invalidUrl:"Ugyldig YouTube URL. Indsæt venligst et gyldigt YouTube link.",emptyInput:"Indsæt venligst et YouTube link.",conversionFailed:"Konvertering mislykkedes. Prøv venligst igen."},E={select:"Vælg sprog",danish:"Dansk",english:"English"},T={madeWith:"Lavet med",by:"af"},k={app:w,form:I,errors:L,language:E,footer:T},x={title:"YouTube Link Converter",description:"Convert YouTube links to yout-ube.com"},B={inputPlaceholder:"Paste YouTube link here...",convertButton:"Convert and Open",converting:"Converting..."},C={invalidUrl:"Invalid YouTube URL. Please paste a valid YouTube link.",emptyInput:"Please paste a YouTube link.",conversionFailed:"Conversion failed. Please try again."},U={select:"Select language",danish:"Dansk",english:"English"},P={madeWith:"Made with",by:"by"},Y={app:x,form:B,errors:C,language:U,footer:P},m="da",p={da:k,en:Y};function a(t,e){const o=e.split(".");let n=p[t];for(const s of o)if(n&&typeof n=="object"&&s in n)n=n[s];else{n=p[m];for(const u of o)if(n&&typeof n=="object"&&u in n)n=n[u];else return e;break}return typeof n=="string"?n:e}function $(){if(typeof window>"u")return m;const t=localStorage.getItem("language");return t&&(t==="da"||t==="en")?t:m}function M(t){typeof window<"u"&&localStorage.setItem("language",t)}function O(t){try{const e=new URL(t),o=e.hostname.toLowerCase();if(o==="youtu.be"||o==="www.youtu.be")return e.pathname.slice(1).split("/")[0].split("?")[0]||null;if(o==="youtube.com"||o==="www.youtube.com"||o==="m.youtube.com"||o==="music.youtube.com"){const n=e.searchParams.get("v");if(n)return n;const s=e.pathname.match(/^\/embed\/([^/?]+)/);if(s)return s[1];const u=e.pathname.match(/^\/v\/([^/?]+)/);if(u)return u[1];const i=e.pathname.match(/^\/shorts\/([^/?]+)/);if(i)return i[1];const c=e.pathname.match(/^\/live\/([^/?]+)/);if(c)return c[1]}return null}catch{return null}}function S(t){if(!t||typeof t!="string")return!1;try{const o=new URL(t).hostname.toLowerCase();return["youtube.com","www.youtube.com","m.youtube.com","music.youtube.com","youtu.be","www.youtu.be"].includes(o)}catch{return!1}}function j(t){if(!t||typeof t!="string"||t.trim()==="")return{success:!1,error:"emptyInput"};const e=t.trim();if(!S(e))return{success:!1,error:"invalidUrl"};try{const o=new URL(e),n=O(e);if(!n)return{success:!1,error:"invalidUrl"};const s=new URL("https://yout-ube.com/watch");return s.searchParams.set("v",n),["t","list","index","start"].forEach(i=>{const c=o.searchParams.get(i);c&&s.searchParams.set(i,c)}),{success:!0,convertedUrl:s.toString()}}catch{return{success:!1,error:"conversionFailed"}}}function D(t){const e=t.trim();return e.match(/^(www\.)?(youtube\.com|youtu\.be|m\.youtube\.com|music\.youtube\.com)/i)?`https://${e}`:e.match(/^https?:\/\//i)?e:`https://${e}`}let r=$();const K=document.getElementById("converter-form"),l=document.getElementById("youtube-url"),R=document.getElementById("submit-button"),g=document.getElementById("button-text"),h=document.getElementById("error-message"),F=document.getElementById("error-text"),b=document.getElementById("language-button"),d=document.getElementById("language-menu"),W=document.getElementById("current-language"),z=document.querySelectorAll(".language-option");function f(){document.documentElement.lang=r,document.title=a(r,"app.title");const t=document.getElementById("app-title"),e=document.getElementById("app-description"),o=document.getElementById("input-label"),n=document.getElementById("info-text"),s=document.getElementById("footer-text");t&&(t.textContent=a(r,"app.title")),e&&(e.textContent=a(r,"app.description")),o&&(o.textContent=a(r,"form.inputPlaceholder")),l&&(l.placeholder=a(r,"form.inputPlaceholder")),g&&(g.textContent=a(r,"form.convertButton")),n&&(n.textContent=r==="da"?"Indsæt ethvert YouTube link format - vi håndterer konverteringen automatisk!":"Paste any YouTube link format - we'll handle the conversion automatically!"),s&&(s.textContent=a(r,"footer.madeWith")+" ❤️"),W.textContent=r==="da"?"Dansk":"English"}function v(t){F.textContent=a(r,`errors.${t}`),h.classList.remove("hidden")}function y(){h.classList.add("hidden")}K.addEventListener("submit",t=>{t.preventDefault(),y();const e=l.value.trim();if(!e){v("emptyInput");return}const o=D(e),n=j(o);if(!n.success||!n.convertedUrl){v(n.error||"conversionFailed");return}R.disabled=!0,g.textContent=a(r,"form.converting"),setTimeout(()=>{window.location.href=n.convertedUrl},300)});l.addEventListener("input",()=>{y()});b.addEventListener("click",()=>{d.classList.toggle("hidden")});document.addEventListener("click",t=>{!b.contains(t.target)&&!d.contains(t.target)&&d.classList.add("hidden")});z.forEach(t=>{t.addEventListener("click",()=>{const e=t.dataset.lang;e&&(e==="da"||e==="en")&&(r=e,M(e),f(),d.classList.add("hidden"))})});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",f):f();
